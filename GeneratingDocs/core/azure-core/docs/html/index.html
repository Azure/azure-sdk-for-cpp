<!-- HTML header for doxygen 1.9.7-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>azure-core: Azure SDK Core Library for C++</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-62780441-44"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-62780441-44');
</script>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js"></script>
<link href="style.css" rel="stylesheet" type="text/css" />
<script>
WINDOW_CONTENTS = window.location.href.split("/");
// language specific
SELECTED_LANGUAGE = "cpp";
populateOptions("#versionSelector", [
  "#versionSelector",
  "#versionSelectorHeader"
]);
function currentVersion() {
  // Filled in by Doxygen template
  return "1.12.0-beta.1";
}
function currentPackage() {
  // Filled in by Doxygen template
  return "azure-core";
}
function httpGetAsync(targetUrl, callback) {
  var xmlHttp = new XMLHttpRequest();
  xmlHttp.onreadystatechange = function() {
    if (xmlHttp.readyState == 4 && xmlHttp.status == 200)
      callback(xmlHttp.responseText);
  };
  xmlHttp.open("GET", targetUrl, true); // true for asynchronous
  xmlHttp.send(null);
}
function showSelectors(selectors) {
  selectors.forEach(function(item, index) {
    $(item).show();
  });
}
function hideSelectors(selectors) {
  selectors.forEach(function(item, index) {
    $(item).hide();
  });
}
function populateOptions(optionSelector, otherSelectors) {
  if (currentPackage()) {
    var versionRequestUrl =
      "https://azuresdkdocs.blob.core.windows.net/$web/" +
      SELECTED_LANGUAGE +
      "/" +
      currentPackage() +
      "/versioning/versions";
    httpGetAsync(versionRequestUrl, function(responseText) {
      if (responseText) {
        let options = responseText.match(/[^\r\n]+/g);
        populateVersionDropDown(optionSelector, options);
        showSelectors(otherSelectors);
        $(optionSelector).change(function() {
          targetVersion = $(this).val();
          window.location.href = getPackageUrl(SELECTED_LANGUAGE, currentPackage(), targetVersion);
        });
      }
    });
  }
}
function populateVersionDropDown(selector, values) {
  var select = $(selector);
  $("option", select).remove();
  $.each(values, function(index, text) {
    $("<option/>", { value: text, text: text }).appendTo(select);
  });
  select.val(currentVersion());
}
function getPackageUrl(language, package, version) {
  return (
    "https://azuresdkdocs.blob.core.windows.net/$web/" +
    language +
    "/" +
    package +
    "/" +
    version +
    "/index.html"
  );
}
</script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo">
    <img alt="Logo" src="logo.svg"/>
  </td>
  <td id="projectalign">
   <div id="projectname">
    <div class="navbrand">
    </div>
    azure-core
    <span id="projectnumber">
      <span id="versionSelectorHeader">
        <span>
            <select id="versionSelector">
                <option>1.12.0-beta.1</option>
            </select>
        </span>
      </span>
    </span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title"><a class="el" href="namespace_azure.html" title="Compute the hash value for the input binary data, using SHA256, SHA384 and SHA512.">Azure</a> SDK Core Library for C++ </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="md__r_e_a_d_m_e"></a> Azure::Core (<code>azure-core</code>) provides shared primitives, abstractions, and helpers for modern <a class="el" href="namespace_azure.html" title="Compute the hash value for the input binary data, using SHA256, SHA384 and SHA512.">Azure</a> SDK client libraries written in the C++. These libraries follow the <a href="https://azure.github.io/azure-sdk/cpp_introduction.html">Azure SDK Design Guidelines for C++</a>.</p>
<p>The library allows client libraries to expose common functionality in a consistent fashion. Once you learn how to use these APIs in one client library, you will know how to use them in other client libraries.</p>
<h1><a class="anchor" id="getting-started"></a>
Getting started</h1>
<p>Typically, you will not need to download <code>azure-core</code>; it will be downloaded for you as a dependency of the client libraries. In case you want to download it explicitly (to implement your own client library, for example), you can find the source in here, or use vcpkg to install the package <code>azure-core-cpp</code>.</p>
<h2><a class="anchor" id="include-the-package"></a>
Include the package</h2>
<p>The easiest way to acquire the C++ SDK is leveraging vcpkg package manager. See the corresponding <a href="https://github.com/Azure/azure-sdk-for-cpp#download--install-the-sdk">Azure SDK for C++ readme section</a>.</p>
<p>To install <a class="el" href="namespace_azure.html" title="Compute the hash value for the input binary data, using SHA256, SHA384 and SHA512.">Azure</a> Core package via vcpkg:</p>
<div class="fragment"><div class="line">&gt; vcpkg install azure-core-cpp</div>
</div><!-- fragment --><p>Then, use in your CMake file:</p>
<div class="fragment"><div class="line">find_package(azure-core-cpp CONFIG REQUIRED)</div>
<div class="line">target_link_libraries(&lt;your project name&gt; PRIVATE Azure::azure-core)</div>
</div><!-- fragment --><h1><a class="anchor" id="key-concepts"></a>
Key concepts</h1>
<p>The main shared concepts of <code>Azure::Core</code> include:</p>
<ul>
<li>Handling streaming data and input/output (I/O) via <code>BodyStream</code> along with its derived types.</li>
<li>Accessing HTTP response details for the returned model of any SDK client operation, via <code>Response&lt;T&gt;</code>.</li>
<li>Polling long-running operations (LROs), via <code>Operation&lt;T&gt;</code>.</li>
<li>Exceptions for reporting errors from service requests in a consistent fashion via the base exception type <code>RequestFailedException</code>.</li>
<li>Abstractions for <a class="el" href="namespace_azure.html" title="Compute the hash value for the input binary data, using SHA256, SHA384 and SHA512.">Azure</a> SDK credentials (<code>TokenCredential</code>).</li>
<li>Replaceable HTTP transport layer to send requests and receive responses over the network.</li>
<li>HTTP pipeline and HTTP policies such as retry and logging, which are configurable via service client specific options.</li>
</ul>
<h2><a class="anchor" id="long-running-operations"></a>
Long Running Operations</h2>
<p>Some operations take a long time to complete and require polling for their status. Methods starting long-running operations return <code>Operation&lt;T&gt;</code> types.</p>
<p>You can intermittently poll whether the operation has finished by using the <code>Poll()</code> method on the returned <code>Operation&lt;T&gt;</code> and track progress of the operation using <code>Value()</code>. Alternatively, if you just want to wait until the operation completes, you can use <code>PollUntilDone()</code>.</p>
<div class="fragment"><div class="line">SomeServiceClient client;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">auto</span> operation = *client.StartSomeLongRunningOperation();</div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">while</span> (!operation.IsDone())</div>
<div class="line">{</div>
<div class="line">  std::unique_ptr&lt;Http::RawResponse&gt; response = operation.Poll();</div>
<div class="line"> </div>
<div class="line">  <span class="keyword">auto</span> partialResult = operation.Value();</div>
<div class="line"> </div>
<div class="line">  <span class="comment">// Your per-polling custom logic goes here, such as logging progress.</span></div>
<div class="line"> </div>
<div class="line">  <span class="comment">// You can also try to abort the operation if it doesn&#39;t complete in time.</span></div>
<div class="line"> </div>
<div class="line">  std::this_thread::sleep_for(std::chrono::milliseconds(1000));</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">auto</span> finalResult = operation.Value();</div>
</div><!-- fragment --><h2><a class="anchor" id="http-transport-adapter"></a>
HTTP Transport adapter</h2>
<p>Out of the box, the <a class="el" href="namespace_azure.html" title="Compute the hash value for the input binary data, using SHA256, SHA384 and SHA512.">Azure</a> SDK for C++ supports the libcurl and WinHTTP libraries as HTTP stacks for communicating with <a class="el" href="namespace_azure.html" title="Compute the hash value for the input binary data, using SHA256, SHA384 and SHA512.">Azure</a> services over the network. The SDK also provides a mechanism for <code>customer-implemented</code> <em>HTTP transport adapter</em>. <a href="https://github.com/Azure/azure-sdk-for-cpp/blob/main/doc/HttpTransportAdapter.md#http-transport-adapter">You can learn more about the transport adapter in this doc</a>.</p>
<h1><a class="anchor" id="troubleshooting"></a>
Troubleshooting</h1>
<p>Three main ways of troubleshooting failures are:</p>
<ul>
<li>Inspecting exceptions</li>
<li>Enabling logging (see <a class="el" href="#sdk-log-messages">SDK Log Messages</a>)</li>
</ul>
<h2><a class="anchor" id="sdk-log-messages"></a>
SDK Log Messages</h2>
<p>The simplest way to enable logs is to set <code>AZURE_LOG_LEVEL</code> environment variable to one of the values: </p><table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone"><code>AZURE_LOG_LEVEL</code>   </th><th class="markdownTableHeadNone"><code><a class="el" href="class_azure_1_1_core_1_1_diagnostics_1_1_logger.html#acd22a5abeec67ee2b56ef08de0c9c569" title="Log message level.">Azure::Core::Diagnostics::Logger::Level</a></code>   </th><th class="markdownTableHeadNone">Log message level    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>4</code>, or <code>error</code>, or <code>err</code>   </td><td class="markdownTableBodyNone"><code>Error</code>   </td><td class="markdownTableBodyNone">Logging level for failures that the application is unlikely to recover from.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>3</code>, or <code>warning</code>, or <code>warn</code>   </td><td class="markdownTableBodyNone"><code>Warning</code>   </td><td class="markdownTableBodyNone">Logging level when a function fails to perform its intended task.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>2</code>, or <code>informational</code>, or <code>information</code>, or <code>info</code>   </td><td class="markdownTableBodyNone"><code>Informational</code>   </td><td class="markdownTableBodyNone">Logging level when a function operates normally.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>1</code>, or <code>verbose</code>, or <code>debug</code>   </td><td class="markdownTableBodyNone"><code>Verbose</code>   </td><td class="markdownTableBodyNone">Logging level for detailed troubleshooting scenarios.   </td></tr>
</table>
<p>Then, log messages will be printed to console (<code>stderr</code>). Note that <code>stderr</code> messages can be redirected into a log file like this:</p>
<p>On Windows: </p><div class="fragment"><div class="line">myprogram.exe 2&gt; log.txt</div>
</div><!-- fragment --><p>On Linux or macOS: </p><div class="fragment"><div class="line">./myprogram 2&gt; log.txt</div>
</div><!-- fragment --><p>In addition, log messages can be programmatically processed by providing a callback function, which can save them to a file, or display them in a desired custom way. </p><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="logger_8hpp.html">azure/core/diagnostics/logger.hpp</a>&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main()</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">using namespace </span>Azure::Core::Diagnostics;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// See above for the level descriptions.</span></div>
<div class="line">    Logger::SetLevel(Logger::Level::Verbose);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// SetListener accepts std::function&lt;&gt;, which can be either lambda or a function pointer.</span></div>
<div class="line">    Logger::SetListener([&amp;](<span class="keyword">auto</span> lvl, <span class="keyword">auto</span> msg){ <span class="comment">/* handle Logger::Level lvl and std::string msg */</span> });</div>
<div class="line">}</div>
<div class="ttc" id="alogger_8hpp_html"><div class="ttname"><a href="logger_8hpp.html">logger.hpp</a></div><div class="ttdoc">Handling log messages from Azure SDK.</div></div>
</div><!-- fragment --><p>Note, the listener callback is executed on the same thread as the operation that triggered the log message. It is recommended implementation due the minimal amount of log message processing on the callback thread. Where message processing is required, consider implementing in a way that the callback pushes the message string into a thread-safe queue, so that another thread would pick the messages from that queue and handle them.</p>
<h1><a class="anchor" id="next-steps"></a>
Next steps</h1>
<p>Explore and install available <a class="el" href="namespace_azure.html" title="Compute the hash value for the input binary data, using SHA256, SHA384 and SHA512.">Azure</a> SDK libraries.</p>
<h1><a class="anchor" id="contributing"></a>
Contributing</h1>
<p>For details on contributing to this repository, see the <a href="https://github.com/Azure/azure-sdk-for-cpp/blob/main/CONTRIBUTING.md">contributing guide</a>.</p>
<p>This project welcomes contributions and suggestions. Most contributions require you to agree to a Contributor License Agreement (CLA) declaring that you have the right to, and actually do, grant us the rights to use your contribution. For details, visit the <a href="https://cla.microsoft.com">Contributor License Agreement</a>.</p>
<p>When you submit a pull request, a CLA-bot will automatically determine whether you need to provide a CLA and decorate the PR appropriately (e.g., label, comment). Simply follow the instructions provided by the bot. You will only need to do this once across all repos using our CLA.</p>
<p>This project has adopted the <a href="https://opensource.microsoft.com/codeofconduct/">Microsoft Open Source Code of Conduct</a>. For more information see the <a href="https://opensource.microsoft.com/codeofconduct/faq/">Code of Conduct FAQ</a> or contact <a href="#" onclick="location.href='mai'+'lto:'+'ope'+'nc'+'ode'+'@m'+'icr'+'os'+'oft'+'.c'+'om'; return false;">opencode@microsoft.com</a> with any additional questions or comments.</p>
<h2><a class="anchor" id="additional-helpful-links-for-contributors"></a>
Additional Helpful Links for Contributors</h2>
<p>Many people all over the world have helped make this project better. You'll want to check out:</p>
<ul>
<li><a href="https://github.com/azure/azure-sdk-for-cpp/issues?q=is%3Aopen+is%3Aissue+label%3A%22up+for+grabs%22">What are some good first issues for new contributors to the repo?</a></li>
<li><a href="https://github.com/Azure/azure-sdk-for-cpp/blob/main/CONTRIBUTING.md#developer-guide">How to build and test your change</a></li>
<li><a href="https://github.com/Azure/azure-sdk-for-cpp/blob/main/CONTRIBUTING.md#pull-requests">How you can make a change happen!</a></li>
<li>Frequently Asked Questions (FAQ) and Conceptual Topics in the detailed <a href="https://github.com/azure/azure-sdk-for-cpp/wiki">Azure SDK for C++ wiki</a>.</li>
</ul>
<h2><a class="anchor" id="reporting-security-issues-and-security-bugs"></a>
Reporting security issues and security bugs</h2>
<p>Security issues and bugs should be reported privately, via email, to the Microsoft Security Response Center (MSRC) <a href="#" onclick="location.href='mai'+'lto:'+'sec'+'ur'+'e@m'+'ic'+'ros'+'of'+'t.c'+'om'; return false;">secur<span class="obfuscator">.nosp@m.</span>e@mi<span class="obfuscator">.nosp@m.</span>croso<span class="obfuscator">.nosp@m.</span>ft.c<span class="obfuscator">.nosp@m.</span>om</a>. You should receive a response within 24 hours. If for some reason you do not, please follow up via email to ensure we received your original message. Further information, including the MSRC PGP key, can be found in the <a href="https://www.microsoft.com/msrc/faqs-report-an-issue">Security TechCenter</a>.</p>
<h2><a class="anchor" id="license"></a>
License</h2>
<p><a class="el" href="namespace_azure.html" title="Compute the hash value for the input binary data, using SHA256, SHA384 and SHA512.">Azure</a> SDK for C++ is licensed under the <a href="https://github.com/Azure/azure-sdk-for-cpp/blob/main/LICENSE.txt">MIT</a> license. </p>
</div></div><!-- PageDoc -->
<a href="doxygen_crawl.html"/>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.9.7-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0
</small></address>
</body>
</html>
