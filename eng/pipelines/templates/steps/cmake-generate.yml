parameters:
  CmakeGeneratePath: ''
  Env: ''
  GenerateArgs: ''

steps:

  - script: mkdir build
    workingDirectory: ${{ parameters.CmakeGeneratePath }}
    displayName: create working directory

  - script: cmake --version
    workingDirectory: ${{ parameters.CmakeGeneratePath }}/build
    displayName: cmake --version

  - script: pwd
    workingDirectory: ${{ parameters.CmakeGeneratePath }}/build
    displayName: cmake --version

  - script: ${{ parameters.Env }} cmake ${{ parameters.GenerateArgs }} ..
    workingDirectory: ${{ parameters.CmakeGeneratePath }}/build
    displayName: cmake generate
